%I A097971 #18 Sep 11 2025 06:54:27
%S A097971 2,10,56,360,2640,21840,201600,2056320,22982400,279417600,3672345600,
%T A097971 51891840000,784604620800,12640852224000,216202162176000,
%U A097971 3912561709056000,74694359900160000,1500289571708928000,31627726106296320000,698242876346695680000,16110677098145710080000
%N A097971 Number of alternating runs in all permutations of [n] (the permutation 732569148 has four alternating runs: 732, 2569, 91 and 148).
%C A097971 a(n) is also equal to the sum over all permutations p in S(n) of the number of elements in the set {(i, j): 0 < i < j < n+1 and |i - j| = |p(i) - p(j)|}.
%D A097971 M. Bona, Combinatorics of Permutations, Chapman & Hall/CRC, Boca Raton, FL, 2004, pp. 24-30.
%D A097971 D. E. Knuth, The Art of Computer Programming. Addison-Wesley, Reading, MA, 1973, Vol. 3, pp. 46 and 587-8.
%F A097971 a(n) = n!*(2*n-1)/3.
%F A097971 E.g.f.: x^2*(3-x)/(3*(1-x)^2).
%F A097971 a(n) = 2*A006157(n).
%e A097971 a(3) = 10 because the permutations 123, 132, 312, 213, 231, 321 have the following alternating runs: 123, 13, 32, 31, 12, 21, 13, 23, 31 and 321.
%p A097971 seq(n!*(2*n-1)/3, n=2..20);
%t A097971 a[n_]:=n!*(2*n-1)/3; Array[a,20,2] (* _Stefano Spezia_, Sep 11 2025 *)
%Y A097971 Cf. A006157.
%K A097971 nonn
%O A097971 2,1
%A A097971 _Emeric Deutsch_ and _Ira M. Gessel_, Sep 07 2004
%E A097971 a(22) from _Stefano Spezia_, Sep 11 2025

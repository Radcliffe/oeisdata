%I A343695 #10 Aug 09 2025 01:24:48
%S A343695 1,4,2304,967458816,913008685901414400,
%T A343695 4622106472375910400000000000000,
%U A343695 255573619105709190896159859671040000000000000000,281792629748570725486109522755987396047015304495104000000000000000000,10444688389799535672440661668710965357968392730721066975209656086980827545600000000000000000000
%N A343695 a(n) is the number of preference profiles in the stable marriage problem with n men and n women, where men prefer different women and women prefer different men as their first choices.
%C A343695 For these profiles both men-proposing and women-proposing Gale-Shapley algorithms end in one round.
%C A343695 This is a subsequence of A001013.
%H A343695 Wikipedia, <a href="https://en.wikipedia.org/wiki/Gale%E2%80%93Shapley_algorithm">Gale-Shapley algorithm</a>.
%F A343695 a(n) = n!^2 * (n-1)!^(2*n).
%F A343695 a(n) = A343694(n)^2.
%e A343695 When n = 3, there are 3! ways for men to pick their first choices and 2!^3 ways to complete their lists of preferences. The same calculation works for women's preferences. As the preferences of different genders are independent, we have a total of 3!^2 * 2!^6 = 2304 such preference profiles for n = 3.
%t A343695 Table[n!^2 (n - 1)!^(2 n), {n, 10}]
%Y A343695 Cf. A001013, A185141, A343474, A343694, A342573, A340890.
%K A343695 nonn,easy
%O A343695 1,2
%A A343695 _Tanya Khovanova_ and MIT PRIMES STEP Senior group, May 25 2021

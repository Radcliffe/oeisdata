%I A375925 #53 May 11 2025 13:47:32
%S A375925 1,4,14,3,11,2,8,22,7,19,5,15,33,13,29,12,28,10,24,9,23,45,21,41,20,6,
%T A375925 18,38,17,35,16,34,60,32,58,31,55,30,54,86,52,26,48,25,47,77,46,76,44,
%U A375925 74,43,71,42,70,40,68,39,67,37,63,36,62,96,61,95,59,93
%N A375925 Squares visited by a king moving on a walled, spirally numbered board, where a wall must be jumped on each move, always to the lowest available unvisited square.
%C A375925 The board is numbered with the following walled, square spiral:
%C A375925 .
%C A375925   17  16  15  14  13 | .
%C A375925      -------------   | .
%C A375925   18 | 5   4   3 |12 | .
%C A375925      |   -----   |   | .
%C A375925   19 | 6 | 1   2 |11 | .
%C A375925      |   ---------   | .
%C A375925   20 | 7   8   9  10 | .
%C A375925      ----------------- .
%C A375925   21  22  23  24  25  26
%C A375925 .
%C A375925 The walls mark the boundary of the spiral.
%C A375925 A line drawn from the center of the starting square of a king move to the center of the ending square must pass through a wall. The king jumps over that wall. Some moves would just touch a wall without passing through the wall (e.g. 1 to 3). Such moves are not permissible.
%C A375925 Because of the wall rule, the next term cannot be +/-1 or +/-2.
%C A375925 As it stands currently (starting with a(1) = 1), the sequence is a permutation of the positive integers. (The path plot by Kevin Ryde, which clearly exhibits the (quasi)periodic structure of the trajectory, provides a "visual" proof that can straightforwardly translated to a classical proof.) However, it might be considered more natural to start with index n = 0 for the starting square (to which the king never moves, but where it starts) and also to label the squares starting with 0 for the initial square at the origin. (Then the sequence would be a permutation of the nonnegative integers.) This is also most natural when considering the formula for the square number depending on coordinates (x, y), cf. Python function "square_number()" to which 1 must be added for the sequence as it stands now. - _M. F. Hasler_, May 08 2025
%H A375925 Sameer Khan, <a href="/A375925/b375925.txt">Table of n, a(n) for n = 1..100</a>
%H A375925 Kevin Ryde, <a href="/A375925/a375925_1.pdf">Path Plot</a>
%e A375925 For n = 2, a(2) = 4 because moving to 2 or 3 does not pass through a wall.
%o A375925 (Python)
%o A375925 def square_number(z): return int(4*y**2-y-x if (y := z.imag) >= abs(x := z.real)
%o A375925     else 4*x**2-x-y if -x>=abs(y) else (4*y-3)*y+x if -y>=abs(x) else (4*x-3)*x+y)
%o A375925 def A375925(n):
%o A375925     if not hasattr(A:=A375925, 'terms'): A.terms=[1]; A.pos=0
%o A375925     while len(A.terms) < n:
%o A375925         s,d = min((s,d) for d in (1, 1+1j, 1j, 1j-1, -1, -1-1j, -1j, 1-1j) if
%o A375925             abs((s:=1+square_number(A.pos+d))-A.terms[-1]) > 2 and s not in A.terms)
%o A375925         A.terms.append(s); A.pos += d
%o A375925     return A.terms[n-1] # _M. F. Hasler_, May 07 2025
%Y A375925 Cf. A033638, A316667 (trapped knight), A336038 (trapped king).
%K A375925 nonn,changed
%O A375925 1,2
%A A375925 _Sameer Khan_, Sep 03 2024
